<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Nao Colored Object Detection | beesbot</title>
    <meta name="viewport" content="width=device-width">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

</head>
<body class="internal-layout">

  <header class="site-header" role="banner">
     <div class="container">
      
     <!-- <nav class="site-nav" role="navigation">
        <div class="nav-links">
            <a href="/" href="/">Home</a>
            <a href="/about" href="/about">About</a>
            <a href="/blog" href="/about">Blog</a>
            <div class="mobile-menu"><i class="icon-reorder"></i></div>
        </div>
      </nav>-->

      <a href="/"><img src="/images/logo_no_bee.png" alt="beesbot - a technology group" width="250" class="navbar-brand" /></a>

    </div>
  </header>
  <main class="site-main" role="main">
     <div class="container">

        <h1>Nao Colored Object Detection</h1>
<p class="meta">04 Jan 2013</p>

<div class="post">
<p>The <a href="http://www.ai.iit.tsukuba.ac.jp/%7Evincent/cod.html">Colored Object Detection module</a> was developed by Vincent Berenz and can bee added to NAO. The module is described as, &quot;allowing detection of blue, red, green and yellow objects. Adding more colors is also possible.&quot;</p>

<h2>Install on Nao</h2>

<p>Word of warning... this has only been tested on NAO Next Gen. If you have a Nao Next Gen, then download the module and follow these instructions.</p>

<p>Use an ftp program like filezilla to connect to nao.local:</p>

<ul>
<li>Create a folder in the root called &#39;mymodules&#39;</li>
<li>Upload the file &#39;libcolored<em>object</em>detection.so&#39; into that folder</li>
<li>the module comes with an example &#39;autoload.ini&#39; that you can upload to /naoqi/preferences
** if you have never edited Nao&#39;s autoload.ini, you can overwrite the autoload.ini on the robot with the file included in the module; otherwise of course merge in the configuration manually.</li>
</ul>

<h2>Confirm it Worked</h2>

<p>To confirm the module was installed properly</p>

<ul>
<li>Browse to your Nao (http://nao.local). </li>
<li>Go to the &quot;advanced&quot; menu and then to &quot;naoqi&quot;. </li>
<li>Select the &quot;restart&quot; button to restart naoqi on the robot. </li>
<li>After restart the module should show up in the list as &quot;ColoredObjectDetection&quot;</li>
</ul>

<h2>Using the Module in Choregraphe</h2>

<p>If you create a script box with this code.</p>

<div class="highlight"><pre><code class="python"><span class="c"># get the module</span>
<span class="n">codProxy</span> <span class="o">=</span> <span class="n">ALProxy</span><span class="p">(</span><span class="s">&quot;ColoredObjectDetection&quot;</span><span class="p">)</span>

<span class="c"># subscribe ALMemory Event </span>
<span class="n">codProxy</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="s">&quot;ColoredObjectDetection&quot;</span><span class="p">)</span>
</code></pre></div>

<p>You can then right-click on the margin in choregraphe and &quot;Add Input from ALMemory&quot;, which will be stimulated when nao recognizes an object. The list returned by the module consist of:</p>

<div class="highlight"><pre><code class="python"><span class="c"># color</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># more than -1 if detected</span>
<span class="n">NbPixels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> 

<span class="c"># position</span>
<span class="n">Yaw</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">Pitch</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div>

<p>By Don Najd</p>

</div>

<a href="/">...back to all posts</a>


    </div>
  </main>
  <footer class="site-footer" role="contentinfo">
     <div class="container">
        beesbot 2014
      </div>
  </footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1550337-13', 'beesbot.com');
  ga('send', 'pageview');

</script>

</body>
</html>
